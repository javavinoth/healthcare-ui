import{a as C,u as w,j as e,A as S,B as o,W as i,S as x,a8 as m,C as A,g as B,s as U,aE as h}from"./index-Cpz04TgT.js";import{u}from"./useQuery-DTgQMnI9.js";import{S as t}from"./skeleton-FVS8MqyW.js";import{U as T,T as D,a as R,b as j,c as l,d as E,e as n}from"./table-CmgfHNs_.js";import{S as r}from"./StatsCard-DPtiyr4t.js";import{C as L}from"./circle-check-DaWp144-.js";function V(){const c=C(),{user:g}=w(),{data:s,isLoading:p}=u({queryKey:["admin","stats"],queryFn:()=>h.getStats()}),{data:N,isLoading:b}=u({queryKey:["admin","users","recent"],queryFn:()=>h.getAllUsers({page:0,size:10,sortBy:"createdAt",sortDir:"DESC"})}),d=N?.users||[],v=(s?.totalDoctors||0)+(s?.totalNurses||0),f=a=>({ADMIN:"destructive",DOCTOR:"success",NURSE:"info",PATIENT:"default",BILLING_STAFF:"warning",RECEPTIONIST:"secondary"})[a]||"default",y=a=>new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return e.jsxs("div",{className:"min-h-screen bg-neutral-light",children:[e.jsx(S,{title:`Welcome, ${g?.firstName||"Admin"}!`}),e.jsx("div",{className:"bg-white border-b border-neutral-blue-gray/10 px-4 sm:px-6 lg:px-8 py-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-body text-neutral-blue-gray/70",children:"System Administration Dashboard"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(o,{variant:"outline",onClick:()=>c("/admin/users"),children:[e.jsx(i,{className:"h-4 w-4 mr-2"}),"Manage Users"]}),e.jsxs(o,{onClick:()=>c("/admin/users?action=create"),children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Create User"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:p?e.jsxs(e.Fragment,{children:[e.jsx(t,{className:"h-32"}),e.jsx(t,{className:"h-32"}),e.jsx(t,{className:"h-32"}),e.jsx(t,{className:"h-32"}),e.jsx(t,{className:"h-32"}),e.jsx(t,{className:"h-32"})]}):e.jsxs(e.Fragment,{children:[e.jsx(r,{title:"Total Users",value:s?.totalUsers||0,icon:i,description:`${s?.activeUsers||0} active`,iconColor:"text-primary",iconBgColor:"bg-primary/10"}),e.jsx(r,{title:"Patients",value:s?.totalPatients||0,icon:i,description:"Registered patients",iconColor:"text-info",iconBgColor:"bg-info/10"}),e.jsx(r,{title:"Healthcare Providers",value:v,icon:x,description:`${s?.totalDoctors||0} doctors, ${s?.totalNurses||0} nurses`,iconColor:"text-wellness",iconBgColor:"bg-wellness/10"}),e.jsx(r,{title:"Administrators",value:s?.totalAdmins||0,icon:x,description:"System administrators",iconColor:"text-error",iconBgColor:"bg-error/10"}),e.jsx(r,{title:"Support Staff",value:(s?.totalBillingStaff||0)+(s?.totalReceptionists||0),icon:i,description:`${s?.totalBillingStaff||0} billing, ${s?.totalReceptionists||0} reception`,iconColor:"text-warning",iconBgColor:"bg-warning/10"}),e.jsx(r,{title:"Pending Verifications",value:s?.pendingVerifications||0,icon:m,description:"Unverified email addresses",iconColor:"text-warning",iconBgColor:"bg-warning/10"})]})}),e.jsxs(A,{children:[e.jsx("div",{className:"p-6 border-b border-neutral-blue-gray/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-h2 text-neutral-blue-gray",children:"Recently Created Users"}),e.jsx("p",{className:"text-sm text-neutral-blue-gray/60 mt-1",children:"Latest user registrations and account creations"})]}),e.jsx(o,{variant:"outline",onClick:()=>c("/admin/users"),children:"View All Users"})]})}),e.jsx(B,{className:"p-0",children:b?e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx(t,{className:"h-12"}),e.jsx(t,{className:"h-12"}),e.jsx(t,{className:"h-12"})]}):d.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(i,{className:"h-12 w-12 mx-auto text-neutral-blue-gray/30 mb-4"}),e.jsx("p",{className:"text-neutral-blue-gray/60",children:"No users found"})]}):e.jsxs(D,{children:[e.jsx(R,{children:e.jsxs(j,{children:[e.jsx(l,{children:"Name"}),e.jsx(l,{children:"Email"}),e.jsx(l,{children:"Role"}),e.jsx(l,{children:"Status"}),e.jsx(l,{children:"Created"})]})}),e.jsx(E,{children:d.map(a=>e.jsxs(j,{children:[e.jsxs(n,{className:"font-medium",children:[a.firstName," ",a.lastName]}),e.jsx(n,{className:"text-neutral-blue-gray/70",children:a.email}),e.jsx(n,{children:e.jsx(U,{variant:f(a.role),children:a.role.replace("_"," ")})}),e.jsx(n,{children:a.active?e.jsxs("div",{className:"flex items-center gap-2 text-wellness",children:[e.jsx(L,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Active"})]}):e.jsxs("div",{className:"flex items-center gap-2 text-neutral-blue-gray/50",children:[e.jsx(m,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Inactive"})]})}),e.jsx(n,{className:"text-neutral-blue-gray/70",children:y(a.createdAt)})]},a.id))})]})})]})]})]})}export{V as default};
