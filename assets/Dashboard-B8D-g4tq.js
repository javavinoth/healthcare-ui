import{a as E,u as P,b as A,j as e,A as T,B as n,M as p,W as u,Y as k,d,i as D,Z as L,C as U,c as M,e as V,g as B,U as g,$ as O}from"./index-FsrHp2Q6.js";import{u as H}from"./useQuery-C3hmJXVy.js";import{S as t}from"./skeleton-C2V6yjX5.js";import{S as l}from"./StatsCard-FmyvPtpX.js";import{C as $}from"./circle-check-DTQlMUk7.js";import{V as h}from"./video-BA8snn1X.js";function z(){const i=E(),{user:j}=P(),{toast:b}=A(),{data:o,isLoading:c,error:x}=H({queryKey:["provider","dashboard"],queryFn:()=>O.getDashboard()}),a=o?.stats||{},m=o?.todayAppointments||[],y=o?.providerName||j?.firstName||"Provider",N=o?.specialty||"Healthcare Provider",v=s=>{i(`/provider/patients/${s}`)},C=s=>{i(`/provider/appointments/${s}`)},f=()=>{b({title:"Virtual Appointment",description:"Virtual appointment integration coming soon!",variant:"info"})},w=s=>{const r={SCHEDULED:"bg-info/10 text-info border-info/20",IN_PROGRESS:"bg-primary/10 text-primary border-primary/20",COMPLETED:"bg-wellness/10 text-wellness border-wellness/20",CANCELLED:"bg-neutral-blue-gray/10 text-neutral-blue-gray border-neutral-blue-gray/20"};return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${r[s]||r.SCHEDULED}`,children:s})},S=s=>{const r={CONSULTATION:"bg-primary/10 text-primary",FOLLOW_UP:"bg-info/10 text-info",ROUTINE_CHECKUP:"bg-wellness/10 text-wellness",EMERGENCY:"bg-error/10 text-error"};return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${r[s]||r.CONSULTATION}`,children:s.replace("_"," ")})};return e.jsxs("div",{className:"min-h-screen bg-neutral-light",children:[e.jsx(T,{title:`Welcome back, Dr. ${y}!`}),e.jsx("div",{className:"bg-white border-b border-neutral-blue-gray/10 px-4 sm:px-6 lg:px-8 py-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-body text-neutral-blue-gray/70",children:N}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(n,{variant:"outline",onClick:()=>i("/provider/messages"),children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),"Messages",a.unreadMessages>0&&e.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-error text-white rounded-full",children:a.unreadMessages})]}),e.jsxs(n,{variant:"outline",onClick:()=>i("/provider/patients"),children:[e.jsx(u,{className:"h-4 w-4 mr-2"}),"My Patients"]}),e.jsxs(n,{variant:"outline",onClick:()=>i("/provider/schedule"),children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Manage Schedule"]}),e.jsxs(n,{onClick:()=>i("/provider/appointments"),children:[e.jsx(d,{className:"h-4 w-4 mr-2"}),"View Schedule"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:c?e.jsxs(e.Fragment,{children:[e.jsx(t,{className:"h-32"}),e.jsx(t,{className:"h-32"}),e.jsx(t,{className:"h-32"}),e.jsx(t,{className:"h-32"}),e.jsx(t,{className:"h-32"}),e.jsx(t,{className:"h-32"})]}):x?e.jsx("div",{className:"col-span-full bg-white rounded-lg p-6 border border-error/20",children:e.jsx("p",{className:"text-error",children:"Failed to load dashboard data. Please try again."})}):e.jsxs(e.Fragment,{children:[e.jsx(l,{title:"Appointments Today",value:a.appointmentsToday||0,icon:d,description:`${a.appointmentsPending||0} pending`,iconColor:"text-primary",iconBgColor:"bg-primary/10"}),e.jsx(l,{title:"Completed Today",value:a.appointmentsCompleted||0,icon:$,description:"Appointments finished",iconColor:"text-wellness",iconBgColor:"bg-wellness/10"}),e.jsx(l,{title:"Pending Appointments",value:a.appointmentsPending||0,icon:D,description:"Awaiting completion",iconColor:"text-info",iconBgColor:"bg-info/10"}),e.jsx(l,{title:"Patients Today",value:a.patientsToday||0,icon:u,description:"Unique patients",iconColor:"text-secondary",iconBgColor:"bg-secondary/10"}),e.jsx(l,{title:"Unread Messages",value:a.unreadMessages||0,icon:p,description:a.unreadMessages>0?"Require attention":"All caught up!",iconColor:"text-warning",iconBgColor:"bg-warning/10"}),e.jsx(l,{title:"Pending Tasks",value:a.pendingTasks||0,icon:L,description:"Notes & follow-ups",iconColor:"text-neutral-blue-gray",iconBgColor:"bg-neutral-blue-gray/10"})]})}),e.jsxs(U,{children:[e.jsx(M,{children:e.jsxs(V,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Today's Schedule"}),e.jsx("span",{className:"text-sm font-normal text-neutral-blue-gray/60",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})}),e.jsx(B,{children:c?e.jsxs("div",{className:"space-y-4",children:[e.jsx(t,{className:"h-24"}),e.jsx(t,{className:"h-24"}),e.jsx(t,{className:"h-24"})]}):x?e.jsx("div",{className:"text-center py-8 text-error",children:"Failed to load today's schedule."}):m.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(d,{className:"h-12 w-12 mx-auto text-neutral-blue-gray/30 mb-4"}),e.jsx("p",{className:"text-neutral-blue-gray/60",children:"No appointments scheduled for today"}),e.jsx("p",{className:"text-sm text-neutral-blue-gray/50 mt-2",children:"Enjoy your day!"})]}):e.jsx("div",{className:"space-y-4",children:m.map(s=>e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-neutral-blue-gray/10 hover:border-primary/30 hover:bg-primary/5 transition-colors cursor-pointer",onClick:()=>C(s.id),children:[e.jsxs("div",{className:"flex flex-col items-center justify-center w-20 text-center",children:[e.jsx("p",{className:"text-sm font-semibold text-neutral-blue-gray",children:s.time}),s.isVirtual&&e.jsx("div",{className:"mt-1",title:"Virtual Appointment",children:e.jsx(h,{className:"h-4 w-4 text-info"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(g,{className:"h-4 w-4 text-neutral-blue-gray/50"}),e.jsx("p",{className:"font-semibold text-neutral-blue-gray truncate",children:s.patientName})]}),e.jsx("p",{className:"text-sm text-neutral-blue-gray/70 truncate",children:s.reason}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[S(s.type),w(s.status)]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(n,{size:"sm",variant:"outline",onClick:r=>{r.stopPropagation(),v(s.patientId)},children:[e.jsx(g,{className:"h-4 w-4 mr-1"}),"View Patient"]}),s.isVirtual&&s.status==="SCHEDULED"&&e.jsxs(n,{size:"sm",onClick:r=>{r.stopPropagation(),f()},children:[e.jsx(h,{className:"h-4 w-4 mr-1"}),"Join"]})]})]},s.id))})})]})]})]})}export{z as default};
